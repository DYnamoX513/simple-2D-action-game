# Trigasion（暂定） 

`smite the enemy`

## simple-2D-action-game

> project for software engineering course


## the art resources:

https://assetstore.unity.com/packages/2d/characters/pixel-adventure-1-155360
https://assetstore.unity.com/packages/2d/characters/pixel-adventure-2-155418

## the learning resources:

https://www.bilibili.com/video/av64017079

## 编写说明：
1. fork到自己的仓库进行编写，编写完毕后通过pr整合（可以使用github桌面版）。

2. 参照当前项目内的assets来整理文件，地图资源放在Maps里，动画资源放在Animations里等等，不清楚的地方可以问。

3. 具体方法看学习教程，里面介绍的非常全面。

## 中期报告展示内容：
1. 完成一张地图的设计

2. 完成人物的运动，物体的交互

3. 完成开始界面的设计，以及场景的切换

# 开发日志记录
### v0.1
1. 新增：一个新的敌人： AngryPig  
   * 周期性地在两个地点之间巡逻（水平地面上）  
   * 受到各类攻击（包括从上方的坠落攻击时），会触发受伤动画（无敌），随后进入狂暴状态  
   * 在狂暴状态下，原有的移动速度上升  
   * 再次受到攻击后被消灭（同时不再进行物理模拟和碰撞检测）  
2. 更新：一些组件  
3. 更新：一些素材属性  
   * 将AngryPig的贴图调整至每单元16像素  

### v0.2

1. 新增：一个新的敌人：Mushroom  
   * 会在一定范围内（水平）搜索玩家，若未搜索到则原地停止  
   * 搜索到玩家后会朝玩家方向移动，并且存在水平延时（Dash），同时也会确保不会跌落地面  
   * 未检测到玩家一段时间后会回到原来位置  
   * 可以被从上方的坠落攻击杀死  
2. 更新：AngryPig的碰撞体  
   * 修改了胶囊碰撞体的位置  
   * 在上方新增边缘碰撞体以检测跳跃攻击，跳跃攻击不会在只接触敌人侧面时生效了
   * 其他一些优化
3. 更新：一些素材属性  
   * 将Mushroom的贴图调整至每单元16像素  

### v1.0
>完成基础功能，提供第一关的试玩  
1. 新增：一个人物：Ninja Frog  
   * 能够控制他进行移动，完成各种状态的切换，能够二段跳跃  
   * 初始hp为3，Hp降至0的时候会化为尘埃  
   * 通过FixedUpdate与Update结合调整人物移动跳跃手感，使得人物移动更加顺滑  
   * 能够通过检测trigger和collider来实现吃食物，跳跃攻击，与被攻击（被攻击的时候会击退并短暂无敌）  
2. 新增：三种得分水果：apple，cherries，bananas  
   * apple的分数为100，bananas为200，cherries为500  
   * 人物碰到水果就可以获得分数，同时水果会播放被吃掉的动画  
3. 新增：一种陷阱：Spikes
   * 人物碰到地刺的hp会-1，并且触发被攻击的效果    
4. 新增：绘制prefab的package，并且制作了几个画刷，可以使用tile palate进行prefab的绘制 
5. 新增：开始场景与场景的切换，以及场景中的UI（显示分数和血量）（初步完成）
6. 新增：绘制了第一关的地图（初步完成）  
7. 更新：一些素材属性  
   * 将NinjaFrog的贴图调整至每单元16像素   
   * 将收集品的贴图调整至每单元16像素  
   * 将Spike的贴图调整至每单元16像素   

### v1.0.1
1. 新增：Cinemachine组件，添加电影效果镜头
   * 在水平竖直小范围内移动，镜头不会跟随
   * 镜头不会移出地图边界
   * 镜头移动更平滑，具有惯性效果  

### v1.1
1. 新增：一个新的敌人：Plant，及其附属制品：Bullet  
   * Plant固定位置，在水平面朝方向检测到玩家时会以一定频率发射子弹（Bullet）  
   * 不可被跳跃攻击击杀  
   * Bullet在击中玩家后会分裂成两块碎片，并将玩家小力度地击退，碎片带有碰撞体积，在数秒后消失  
2. 新增：一个新的敌人：BlueBird  
   * 拥有上下左右四个控制点  
   * 可选择在水平方向上运动（锁定Y），或竖直方向运动（锁定X），同时选定则会在由四个控制点界定的长方形内运动  
   * 可设置生命值  
   * 可以被从上方的坠落攻击杀死  
   * 受到一次攻击后，在受伤动画时间内变为无害，不移动且不可再被攻击  
3. 更新：一些素材属性
   * 将Plant的贴图调整至每单元16像素   
   * 将Bullet的贴图调整至每单元16像素  
   * 将BlueBird的贴图调整至每单元16像素   
4. 修复：一些拼写错误  

### v1.1.1
1. 更新：Plant的子弹碎片现在会以渐变闪烁的方式消失
2. 更新：现在开发日志更新到v1.1.1版本
3. 修复：Plant的大小被重新设置（变小）
4. 修复：BlueBird的受伤动画现在会正常播放  

### v1.1.2
1. 更新：Plant现在的子弹发射位置由一个子物体更直观的控制，原有的相对坐标被弃用
2. 修复：Plant的子弹现在可以穿过敌人  

### v1.2
1. 新增：一个新的敌人：Radish，及其附属制品Leaf
   * Radish初始状态漂浮在空中，在上下两个端点之间以平滑的速度变化进行运动
   * 被上方的坠落攻击击中后，会掉下两片叶子，拥有碰撞体积且不会消失
   * 叶子掉落后，Radish不再拥有飞行能力，会掉落至地面并持续向某一方向冲刺（取决于初始朝向）
   * 可以再次被上方的坠落攻击击杀
2. 新增：一个2D物理材质球，拥有通常的摩擦系数和中等水平的弹力系数，被应用于Radish的Leaf以及Plant的Bullet
3. 新增：一个新的Tag，被用于标记地Leaf形
4. 更新：一些素材属性
   * 将Radish的贴图调整至每单元16像素   
   * 将Leaf的贴图调整至每单元16像素  

### v1.3
1. 新增：一个新的敌人：Slime，及其附属制品Particle（L，M，S，SS）
   * Slime拥有较高生命值，需要多次命中后才能被击杀
   * Slime在受到一次伤害后体型会变小，并掉落一个相应大小的Particle，不会消失
   * Slime会在可行走的范围内不断移动，速度较低
2. 新增：一个2D的物理材质球，拥有为零的摩擦系数和中等水平的弹力系数，被应用于Slime和Particle
3. 更新：一些素材属性
   * 将Slime的贴图调整至每单元16像素   
   * 将Particle的贴图调整至每单元**10**像素 

### v1.3.1
1. 新增：Slime的Particle拥有的额外效果
   * Particle掉落后若被Slime拾取，则会回复Slime的生命值，体型变大，不会超过初始体型
2. 新增：一个Tag用于标记Particle
3. 新增：新增了一个Layer用于标记Enemy，以实现移动的怪物不会被堵塞
4. 更新：某些怪物的上部Edge碰撞体设置了Radius属性，检测范围变大
   * Plant
   * Radish
   * BlueBird
   * AngryPig
   * 在后续开发中出现的大部分怪物
5. 更新：Slime的材质球现在拥有较小的摩擦系数

### v1.4
1. 新增：一个新的敌人：Turtle
   * 自身不会移动，拥有较大的质量
   * 在水平范围内检测到玩家时贝壳会伸出尖刺，碰撞体积变大，不会受到普通跳跃攻击的伤害，且在碰撞时会对玩家造成伤害
   * 一段时间未检测到玩家后会收回尖刺
   * 在尖刺收回的状态下可以被跳跃攻击，生命值较高，被攻击后会立即伸出尖刺
2. 更新：Mushroom的索敌范围被减小了
3. 更新：一些可以被多次攻击的怪物拥有了在受伤动画内的无敌时间，短时间内不会被重复攻击
4. 更新：一些素材属性
   * 将Turtle的贴图调整至每单元16像素   

### v1.5
1. 新增：一个新的敌人：Trunk，及其附属制品Bullet
   * Trunk不固定位置，会在可行走范围内巡逻，在水平面朝方向检测到玩家时会以一定频率发射子弹（Bullet）  
   * 发射子弹为三连发，攻击间隔较短，子弹速度较快，但是攻击距离较短
   * 可被跳跃攻击击杀  
   * Bullet在击中玩家后会分裂成两块碎片，并将玩家小力度地击退，碎片带有碰撞体积，在数秒后消失  
   * 后续子弹可能会被之前的子弹碎片所抵挡，使玩家免疫伤害（同样适用于Plant的Bullet）
2. 新增：一个新的Tag用于标记Bullet
   * Bullet之间不会互相碰撞了
3. 更新：一些素材属性
   * 将Trunk的贴图调整至每单元16像素   
   * 将Bullet的贴图调整至每单元16像素 
4. 修复：Plant的朝向会正确作用于子弹的发射方向
5. 修复：Plant的索敌方向也正常了
6. 修复：Plant现在拥有正常的攻击范围

### v1.5.1
1. 更新：现在开发日志更新到v1.5.1版本

### v1.5.2
1. 更新：延长了AngryPig的无敌持续时间
2. 更新：增加了AngryPig的移动速度
3. 更新：Plant的行为逻辑更改，现在可以射的超快（笑）
4. 修复：Trunk的攻击间隔现在可以正确作用
5. 修复：Trunk的子弹会根据射出的方向改变贴图
6. 修复：Turtle在收回尖刺时不会再因为检测到玩家而出现动画问题

### v1.6
1. 新增：一个人物：Vitural Guy    
   * 能够控制他进行移动，完成各种状态的切换，能够二段跳跃
   * 初始hp为3，Hp降至0的时候会化为尘埃  
   * 通过FixedUpdate与Update结合调整人物移动跳跃手感，使得人物移动更加顺滑  
   * 能够通过检测trigger和collider来实现吃食物，跳跃攻击，与被攻击（被攻击的时候会击退并短暂无敌）  
2. 新增：四种得分水果：kiwi，melon，orange，pineapple，strawberry  
   * kiwi的分数为500，melon为800，orange为1000，pineapple为1200，strawberry非常大，为10000  
   * 人物碰到水果就可以获得分数，同时水果会播放被吃掉的动画  
3. 更新：修改cherries的得分为400  
4. 新增：三种平台：PlatformB，FalPlatform和Trampoline  
   * PlatformB：会在人物站上去之后绕中心点进行倾斜，并且角度锁死为-75°到75°  
   * FalPlatform：会在人物站上去之后开始下坠，并且会加速越来越快  
   * 这两种平台在人物离开一定时间后会自己返回原位  
   * Trampoline：在人物移动上去之后会将人物弹射至很高的位置
   

### v1.65  
1. 更新：修改UI，并且给人物增加一个能量条  
   * 更新UI中的血量和能量条为图像而非数字，观感更加直观  
   * 新增了一个倒计时，倒计时结束后人物会死亡，增加紧迫感  
2. 新增：给Frog和Guy分别增加了两个特殊的技能  
   * Frog：消耗能量条可以在墙壁上攀爬  
   * 攀爬的时候会以一个较低的速度往下溜，同时攀爬的时候可以跳跃  
   * Guy：消耗能量条可以使用冲刺  
   * 冲刺的时间非常短而且有残影，冲刺时并不是无敌的，受到伤害会停下，冲刺时无法改变方向或者跳跃  
   * 跳跃的时候冲刺会有一个向上的冲刺效果，下坠和平移则没有  
3. 新增：三种陷阱：Fire，SpikedBall和SpikeHead
   * SpikedBall：悬挂在某一个位置，会由于重力进行摆动，人物碰撞球体会受伤，而锁链则是可以穿过的  
   * SpikeHead：会从某个地方往下砸，下落时速度会越来越快，砸到地面一段时间后会缓缓归位，人物碰到会受伤  
   * 这个陷阱是有动画的，包括眨眼和砸下去的冲击效果  
   * Fire：会喷射火焰一段时间，关闭一段时间，人物碰到火焰会受伤（这个同样是有动画的）  
4. 新增：完成了开始界面，选人界面，结算界面等的UI设计  

### v1.7  
1. 新增：增加一个游戏的总控程序GamaManager
   * 它会在游戏开始时被创建，并且整个程序中不会被销毁  
   * 它保存着游戏的许多信息，如玩家的血量和能量，得分和时间统计，场景切换和关卡数等等  
2. 新增：给游戏增加一个开始和结束的结算点，碰到终点后视为通关（有动画）  
3. 新增：将设计好的UI整合到游戏本体中，能够实现的功能如下：    
   * 在开始界面可以选择继续上次的关卡或者开始新游戏  
   * 开始新游戏后可以选择关卡，已经通过的关卡都能选择，未通过的关卡则不能选择  
   * 选择关卡之后会进入选择角色界面，选择角色界面可以选Frog或者Guy进行游戏  
   * 游戏过程中可以通过返回按钮来返回主菜单，同时游戏的关卡数会得到保留  
   * 游戏通过一关后会进入结算界面，结算界面会显示你的总得分，可以通过这里进入下一关或者返回主菜单  
   （总得分为分数+剩余时间*1000）  
4. 更新：修改了Frog和Guy的一些逻辑，防止出现动画卡壳无法切换的现象
5. 新增：两种陷阱：SawLR和SawWD
   * SawLR：是一个会左右移动的锯齿，碰触会受伤  
   * SawWD：是一个会上下移动的锯齿，碰触会受伤  
   * 它们都有旋转的动画，且移动速度不低  
6. 更新：对现有的所有素材的层次进行区分，使得显示更有前后的层次感  

### v1.8  
1. 新增：完成第一张地图的修改与制作  
   * 给第一张地图添加所有的可交互组件，包括怪物，陷阱和的分道具  
   * 给第一张地图更强的设计感来提高游戏性  
2. 新增：给人物添加粒子效果使人物移动更加动作真实，更有操作感  
   * 人物在跑步的时候会有扬尘的效果  
   * 人物在跳跃的时候会有踩踏空气的效果  
   * Frog在攀爬墙壁下溜的时候会有扬尘的效果  
3. 更新：修改了Frog和Guy的一些逻辑，防止出现动画卡壳无法切换的现象  

### v1.9  
1. 新增：增加一个全局的AudioManager  
   * 循环播放背景音乐  
   * 在人物跳跃，移动或者和怪物互动等等地方增加音效  
2. 新增：完成第二张和第三张地图的制作与修改  
3. 更新：修改UI的字体使其更贴合游戏风格  

### v2.0
>至此基本完成本游戏的所有开发过程
1. 新增：完成地图等各部分的整合，包括UI的整合修改  
